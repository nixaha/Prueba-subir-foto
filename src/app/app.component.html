<div id="hero" class="let-hero">
    <div class="let-container let-container-centerall">
        <h1 class="let-title">
            Cloud Storage for Firebase
        </h1>
        <h2 class="let-titlesmall">
            comes to AngularFire!
        </h2>
    </div>
</div>

<div class="let-container let-container-main">
    <h2>
        Upload a file!
    </h2>

    <div class="upload-form">

        <div class="progress-container spacing-container">
            <progress class="upload-progress" [value]="uploadPercent | async" max="100">
      </progress>
        </div>

        <section class="spacing-container">
            <label for="file">File:</label>
            <input type="file" (change)="previewFile($event)" accept=".png,.jpg,.sketch" />
        </section>

        <section class="upload-bar spacing-container" *ngIf="!uploaded">
            <button (click)="uploadFile()" [disabled]="!(previewURL | async)">Upload</button>
        </section>

        <section class="delete-bar spacing-container" *ngIf="!uploaded">
            <button (click)="deleteUpload()" [disabled]="!(uploadURL | async)"> Delete </button>
        </section>

        <div class="result spacing-container" *ngIf="uploadURL | async; let uploadSrc">
            <a [href]="uploadSrc">Your link to your file!</a>
        </div>

        <section class="control-bar" *ngIf="uploadState | async; let state">
            <button (click)="pauseUpload()" [disabled]="state === 'paused'"> Pause </button>
            <button (click)="cancelUpload()" [disabled]="!(state === 'paused' || state === 'running')"> Cancel </button>
            <button (click)="resumeUpload()" [disabled]="state === 'running'"> Resume </button>
        </section>

        <div class="preview" *ngIf="previewURL | async; let previewSrc">
            <img [src]="previewSrc" />
        </div>

    </div>

</div>